{% extends 'base.html' %}

{% set card = card_info(card_id) %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-8">
            <div class="row justify-content-center py-2">
                <div class="col d-flex align-items-end justify-content-end">
                    <h2 class="mb-0">Card No. {{card['no']}}</h5>
                </div>
                <div class="col d-flex align-items-end justify-content-start">
                    <img height="32" class="px-1" src="{{member_icon(card['member_id'])}}" />
                    <img height="40" class="px-1" src="{{icon(card['rarity'])}}" />
                    <img height="32" class="px-1" src="{{icon(card['attribute'])}}" />
                    <img height="32" class="px-1" src="{{icon(card['role'])}}" />
                </div>
            </div>
            <div class="row">
                <div class="col-12 text-center py-1">
                    {% set appearance = card['appearance']['unidolized'] %}
                    <img class="w-100" src="{{tex(appearance['full_image_asset'])}}" />
                    <caption>{{appearance['name_jp']}}</caption>
                    {% if appearance['name_en'] %}
                    <caption>/ {{appearance['name_en']}}</caption>
                    {% endif %}
                </div>
            </div>
            <div class="row">
                <div class="col-12 text-center py-1">
                    {% set appearance = card['appearance']['idolized'] %}
                    <img class="w-100" src="{{tex(appearance['full_image_asset'])}}" />
                    <caption>{{appearance['name_jp']}}</caption>
                    {% if appearance['name_en'] %}
                    <caption>/ {{appearance['name_en']}}</caption>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col-4 py-5">
            <h4>Active Skill</h4>
            <!-- <div class="row justify-content-start">
                <div class="col-3">
                    <img height="72" src="{{tex(card['skills']['active']['thumb'])}}" />
                </div>
                <div class="col text-left">
                    <h6><strong>{{card['skills']['active']['name']}}</strong></h6>
                    <p>{{card['skills']['active']['description_long']}}</p>
                </div>
            </div> -->
            <h4>Passive Skills</h4>
            <!-- {% for passive in card['skills']['passives'] %}
            <div class="row justify-content-start">
                <div class="col-3">
                    <img height="72" src="{{tex(passive['thumb'])}}" />
                </div>
                <div class="col text-left">
                    <h6><strong>{{passive['name']}}</strong></h6>
                    <p>{{passive['description_long']}}</p>
                </div>
            </div>
            {% endfor %} -->
            <div class="row">
                <div class="col">
                    <table class="table text-center">
                        <thead>
                            <tr>
                                <th scope="col"></th>
                                <th scope="col"><img height="32" src="{{icon('appeal')}}" /></th>
                                <th scope="col"><img height="32" src="{{icon('stamina')}}" /></th>
                                <th scope="col"><img height="32" src="{{icon('technique')}}" />
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for i in range(0, 6) %}
                            {% set stats = card['stats']['stat_summary'][i|string] %}
                            <tr>
                                <th scope="row" class="align-middle" style="font-size: 0;">
                                    {% for j in range(i) %}
                                    <img width="16" src="{{icon('lb_full')}}" />
                                    {% endfor %}
                                    {% for j in range(5 - i) %}
                                    <img width="16" src="{{icon('lb_empty')}}" />
                                    {% endfor %}
                                </th>
                                <td>{{stats['appeal']}}</td>
                                <td>{{stats['appeal']}}</td>
                                <td>{{stats['appeal']}}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            {% if card['outfits']|length > 0 %}
            <h4>Outfit</h4>
            <div class="row py-3">
                {% for suit in card['outfits'] %}
                <div class="col-6">
                    <div>
                        <img src="{{tex(suit['thumbnail_image_asset'])}}" />
                        <p class="py-1">
                            {{suit['name_jp']}}
                            {% if suit['name_en'] %}
                            <br />{{suit['name_en']}}
                            {% endif %}
                        </p>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock content %}